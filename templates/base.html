<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><path fill='%23f4a261' d='M0 0h5v5H0zm6 0h5v5H6zm6 0h4v5h-4zM0 6h5v4H0zm6 0h5v4H6zm6 0h4v4h-4zM0 11h5v5H0zm6 0h5v5H6zm6 0h4v5h-4z'/></svg>" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Roboto+Mono:wght@500&display=swap"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"
    ></script>
    {% block styles %}{% endblock %}

    <title>Mundo</title>
  </head>
  <body>
    <nav class="header">
      <div class="header-left">
        <!-- Logo con icono de waffle -->
        <div class="logo">
          <a href="{{ url_for('mostrador.index') }}">
            <i class="bi bi-grid-3x3-gap-fill"></i>
            <span class="hide-mobile">Mundo Waffles</span>
          </a>
        </div>

        <!-- Separador vertical -->
        <div class="nav-separator"></div>

        <!-- Accesos rápidos POS -->
        <div class="nav-group">
          <span class="nav-group-label">POS</span>
          <div class="nav-icons">
            <div class="nav-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Mostrador">
              <a href="{{ url_for('mostrador.index') }}">
                <i class="bi bi-shop"></i>
              </a>
            </div>
            <div class="nav-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Delivery">
              <a href="{{ url_for('delivery.getDeliveries') }}">
                <i class="bi bi-truck"></i>
              </a>
            </div>
          </div>
        </div>

        <!-- Separador vertical -->
        <div class="nav-separator"></div>

        <!-- Reportes -->
        <div class="nav-group">
          <span class="nav-group-label">Reportes</span>
          <div class="nav-icons">
            <div class="nav-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Reporte de ventas">
              <a href="{{ url_for('reportes.ventas') }}">
                <i class="bi bi-graph-up"></i>
              </a>
            </div>
          </div>
        </div>

        <!-- Separador vertical -->
        <div class="nav-separator"></div>

        <!-- Mantenedores -->
        <div class="nav-group">
          <span class="nav-group-label">Mantenedores</span>
          <div class="nav-icons">
            <div class="nav-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Productos">
              <a href="{{ url_for('productos.get_productos') }}">
                <i class="bi bi-box-seam"></i>
              </a>
            </div>
            <div class="nav-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Categorías">
              <a href="{{ url_for('categorias.get_categorias') }}">
                <i class="bi bi-tags"></i>
              </a>
            </div>
            <div class="nav-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Marcas">
              <a href="{{ url_for('marcas.get_marcas') }}">
                <i class="bi bi-bookmark-star"></i>
              </a>
            </div>
            <div class="nav-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Clientes">
              <a href="{{ url_for('clientes.get_clientes') }}">
                <i class="bi bi-people"></i>
              </a>
            </div>
            <div class="nav-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Extras / Atributos">
              <a href="{{ url_for('atributos.get_atributos') }}">
                <i class="bi bi-sliders"></i>
              </a>
            </div>
          </div>
        </div>

        <!-- Separador vertical -->
        <div class="nav-separator"></div>

        <!-- Configuración -->
        <div class="nav-group">
          <span class="nav-group-label">Config</span>
          <div class="nav-icons">
            <div class="nav-icon" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Impresoras">
              <a href="{{ url_for('printers.index') }}">
                <i class="bi bi-printer"></i>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="header-right">
        <!-- Reloj con icono -->
        <div class="clock-container">
          <i class="bi bi-clock"></i>
          <span id="hora"></span>
        </div>
        
        <!-- Separador -->
        <div class="nav-separator"></div>
        
        <!-- Usuario -->
        <div class="user-info">
          <i class="bi bi-person-circle"></i>
          <span>Admin</span>
        </div>
      </div>
    </nav>

    <div class="main-container">
      {% block full_content %}
      <div class="left-panel">{% block left_panel %} {%endblock %}</div>

      <div class="right-panel">{% block right_panel %} {%endblock %}</div>
      {% endblock %}
    </div>
  </body>

  {% block scripts %} {% endblock %}

  <script>
    // Reloj en tiempo real
    function mostrarHora() {
      const ahora = new Date();
      const opciones = { hour: '2-digit', minute: '2-digit', second: '2-digit' };
      document.getElementById("hora").textContent = ahora.toLocaleTimeString('es-CL', opciones);
    }
    mostrarHora();
    setInterval(mostrarHora, 1000);

    // Inicializar tooltips de Bootstrap
    document.addEventListener('DOMContentLoaded', function() {
      var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
      var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
      });
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.6/dist/htmx.min.js" integrity="sha384-Akqfrbj/HpNVo8k11SXBb6TlBWmXXlYQrCSqEWmyKJe+hDm3Z/B2WVG4smwBkRVm" crossorigin="anonymous"></script>
</html>
